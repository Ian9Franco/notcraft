/* ========================================
 * MODAL PREMIUM STYLES - CORREGIDO
 * ======================================== */

/* La clase .category-modal-overlay no se usa directamente en el TSX,
   pero se mantiene por si se desea usar en el futuro o para referencia. */
.category-modal-overlay {
  @apply fixed inset-0 z-50 flex items-center justify-center p-4;
  background-color: rgba(var(--background), 0.8);
  backdrop-filter: blur(12px);
  transition: opacity 0.3s ease-out;
}

.category-modal-content {
  @apply relative w-full max-w-3xl max-h-[90vh] rounded-2xl overflow-hidden; /* ✅ max-h y overflow-hidden en el contenedor principal */
  @apply bg-card text-card-foreground border border-border;
  @apply shadow-2xl shadow-black/40;
  /* Las propiedades de transform y opacity para la animación se manejan con Framer Motion en el TSX */
}

/* Estas clases de animación se manejan con Framer Motion en el TSX,
   por lo que no son estrictamente necesarias aquí si solo se usa Framer Motion. */
.category-modal-open .category-modal-content {
  transform: scale(1);
  opacity: 1;
}

.category-modal-header {
  @apply relative p-6 border-b border-border/50 flex items-center justify-between;
  background-color: rgba(var(--background), 0.9);
}

.category-modal-title {
  @apply text-2xl font-bold text-accent;
}

.category-modal-close-button {
  /* Esta clase no se usa directamente en el TSX, se usa 'category-modal-close' */
  @apply p-2 rounded-full text-muted-foreground hover:bg-accent/10 hover:text-accent;
  @apply transition-colors duration-200;
}

.category-modal-body {
  @apply p-6 overflow-y-auto; /* ✅ overflow-y-auto para el contenido scrollable */
  max-height: calc(90vh - 120px); /* Ajusta la altura máxima para permitir el scroll */
  /* 120px es un estimado para el header y el padding, ajusta si es necesario */
}

.category-modal-description {
  @apply text-base text-muted-foreground mb-4;
}

.category-modal-details {
  @apply space-y-4;
}

.category-modal-detail-item {
  @apply flex items-center gap-3 text-sm;
}

.category-modal-detail-icon {
  @apply text-accent;
}

.category-modal-footer {
  @apply p-6 border-t border-border/50 flex justify-end;
  background-color: rgba(var(--background), 0.9);
  /* Este footer ya no contiene el botón de cerrar, pero se mantiene la clase por si se usa para otros elementos */
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .category-modal-content {
    @apply max-w-full mx-4;
  }
  .category-modal-body {
    max-height: calc(90vh - 100px); /* Ajuste para móviles */
  }
}

/* Light mode adjustments */
.light .category-modal-overlay {
  background-color: rgba(var(--background), 0.7);
}

.light .category-modal-content {
  @apply bg-card text-card-foreground border border-border;
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
}

.light .category-modal-header,
.light .category-modal-footer {
  background-color: rgba(var(--background), 0.95);
}

/* Nuevas clases para el estilo premium del modal */
.category-modal-premium-glow {
  content: "";
  @apply absolute inset-0 -z-10 rounded-2xl;
  background: radial-gradient(circle at center, rgba(var(--accent-rgb), 0.15) 0%, transparent 70%);
  filter: blur(60px);
  opacity: 0.7;
  pointer-events: none;
}

.category-modal-header-content {
  @apply flex items-center gap-4;
}

.category-modal-icon-section {
  @apply relative flex items-center justify-center w-16 h-16 rounded-full;
}

.category-modal-icon-bg {
  @apply absolute inset-0 rounded-full bg-gradient-to-br from-gray-700/30 to-gray-900/30;
  @apply border border-gray-600/50;
  box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
}

.category-modal-icon {
  @apply relative z-10;
}

.category-modal-icon-pulse {
  @apply absolute inset-0 rounded-full animate-pulse-slow;
  background-color: rgba(var(--accent-rgb), 0.2);
  filter: blur(10px);
  opacity: 0.6;
}

.category-modal-icon-ring {
  @apply absolute inset-0 rounded-full border-2 border-dashed border-gray-500/30 animate-spin-slow;
}

.category-modal-title-section {
  @apply flex flex-col items-start;
}

.category-modal-decorations {
  @apply flex items-center gap-2 mb-1;
}

.category-modal-decoration-icon {
  @apply h-4 w-4 text-gray-500;
}

.category-modal-decoration-line {
  @apply h-px w-6 bg-gray-600/50;
}

.category-modal-title {
  @apply text-3xl font-extrabold tracking-tight;
}

.category-modal-close {
  @apply absolute top-4 right-4 p-2 rounded-full text-gray-400 hover:text-white hover:bg-white/10 transition-all duration-200;
  @apply focus:outline-none focus:ring-2 focus:ring-white/30;
}

.category-modal-text-container {
  @apply p-6;
}

.category-modal-text-wrapper {
  @apply relative;
}

.category-modal-text {
  @apply text-lg text-gray-300 leading-relaxed;
}

/* Animaciones personalizadas */
@keyframes pulse-slow {
  0%,
  100% {
    transform: scale(0.8);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.1);
    opacity: 0.9;
  }
}

@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-pulse-slow {
  animation: pulse-slow 4s infinite ease-in-out;
}

.animate-spin-slow {
  animation: spin-slow 10s linear infinite;
}
