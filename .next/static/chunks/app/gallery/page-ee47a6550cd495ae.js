(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{627:(e,r,a)=>{"use strict";a.d(r,{J:()=>c,UserProvider:()=>d});var t=a(5155),s=a(2115),i=a(3004),l=a(8915);let n=(0,s.createContext)(void 0);function d(e){let{children:r}=e,[a,d]=(0,s.useState)(null),[c,o]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,i.hg)(l.j,e=>{d(e),o(!1)});return()=>e()},[]);let u=async()=>{let e=new i.HF;try{await (0,i.df)(l.j,e)}catch(e){console.error("Error signing in with Google",e)}},m=async()=>{try{await (0,i.CI)(l.j)}catch(e){console.error("Error signing out",e)}};return(0,t.jsx)(n.Provider,{value:{user:a,loading:c,signInWithGoogle:u,logout:m},children:r})}function c(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},1521:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>y});var t=a(5155),s=a(2115),i=a(6766),l=a(627),n=a(5317),d=a(858),c=a(8915),o=a(1685),u=a(7168),m=a(3999);let f=s.forwardRef((e,r)=>{let{className:a,type:s,...i}=e;return(0,t.jsx)("input",{type:s,className:(0,m.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...i})});f.displayName="Input";let x=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("textarea",{className:(0,m.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...s})});x.displayName="Textarea";var g=a(8482),p=a(2895);let h=(0,p.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),b=(0,p.A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v=(0,p.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function y(){let{user:e,signInWithGoogle:r}=(0,l.J)(),[a,m]=(0,s.useState)([]),[p,y]=(0,s.useState)(null),[j,N]=(0,s.useState)(""),[w,k]=(0,s.useState)(!1),[S,C]=(0,s.useState)(!0),[I,D]=(0,s.useState)(null);(0,s.useEffect)(()=>{!async function(){try{let e=(0,n.P)((0,n.rJ)(c.db,"galleryImages"),(0,n.My)("uploadedAt","desc"),(0,n.AB)(20)),r=await (0,n.GG)(e),a=[];r.forEach(e=>{a.push({id:e.id,...e.data()})}),m(a)}catch(e){console.error("Error fetching images:",e)}finally{C(!1)}}()},[]);let P=async r=>{if(r.preventDefault(),!e){alert("Por favor inicia sesi\xf3n para subir im\xe1genes");return}if(!p){alert("Por favor selecciona una imagen");return}if(j.length>50){alert("La descripci\xf3n no puede superar los 50 caracteres");return}try{k(!0);let r=(0,n.P)((0,n.rJ)(c.db,"galleryImages"));if((await (0,n.GG)(r)).size>=3){alert("Has alcanzado el l\xedmite de 3 im\xe1genes por usuario"),k(!1);return}let t=(0,d.KR)(c.I,"gallery/".concat(Date.now(),"_").concat(p.name));await (0,d.D)(t,p);let s=await (0,d.qk)(t),i=await (0,n.gS)((0,n.rJ)(c.db,"galleryImages"),{imageUrl:s,description:j,uploadedBy:e.uid,uploadedAt:n.Dc.now()});m([{id:i.id,imageUrl:s,description:j,uploadedBy:e.uid,uploadedAt:n.Dc.now()},...a]),y(null),D(null),N(""),alert("Imagen subida correctamente")}catch(e){console.error("Error uploading image:",e),alert("Error al subir la imagen")}finally{k(!1)}};return(0,t.jsxs)("div",{className:"space-y-12 py-6",children:[(0,t.jsx)(o.X,{title:"Galer\xeda",subtitle:"Comparte y descubre impresionantes capturas de nuestro servidor de Minecraft."}),(0,t.jsxs)("section",{className:"bg-secondary/50 border border-border rounded-lg p-6 max-w-3xl mx-auto fade-in-section hover-effect",children:[(0,t.jsx)("h3",{className:"font-minecraft text-xl text-accent mb-4",children:"Subir Imagen"}),e?(0,t.jsx)("form",{onSubmit:P,className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Imagen (PNG, JPG)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f,{type:"file",accept:"image/png, image/jpeg",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=e.target.files[0];y(r);let a=new FileReader;a.onload=()=>{D(a.result)},a.readAsDataURL(r)}},disabled:w,className:"opacity-0 absolute inset-0 w-full h-full cursor-pointer z-10"}),(0,t.jsxs)(u.$,{variant:"outline",className:"w-full flex items-center justify-center",disabled:w,children:[(0,t.jsx)(h,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:p?"Cambiar imagen":"Seleccionar imagen"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Descripci\xf3n ",(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"(m\xe1x. 50 caracteres)"})]}),(0,t.jsx)(x,{value:j,onChange:e=>N(e.target.value),maxLength:50,placeholder:"Describe tu imagen",disabled:w,className:"resize-none"}),(0,t.jsxs)("div",{className:"text-right text-xs text-muted-foreground mt-1",children:[j.length,"/50"]})]}),(0,t.jsx)(u.$,{type:"submit",className:"w-full minecraft-style button-glow",disabled:!p||w,children:w?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{className:"mr-2 h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:"Subiendo..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Subir Imagen"})]})})]}),(0,t.jsx)("div",{className:"flex items-center justify-center border border-border rounded-md bg-background/50 p-2 h-[200px]",children:I?(0,t.jsx)("div",{className:"relative w-full h-full",children:(0,t.jsx)(i.default,{src:I||"/placeholder.svg",alt:"Preview",fill:!0,className:"object-contain"})}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Vista previa de la imagen"})})]})}):(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"Inicia sesi\xf3n para subir tus capturas de pantalla"}),(0,t.jsx)(u.$,{onClick:r,className:"minecraft-style button-glow",children:(0,t.jsx)("span",{children:"Iniciar Sesi\xf3n con Google"})})]})]}),(0,t.jsx)("section",{className:"fade-in-section",children:S?(0,t.jsx)("div",{className:"flex justify-center py-12",children:(0,t.jsx)(b,{className:"h-8 w-8 animate-spin text-accent"})}):0===a.length?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No hay im\xe1genes en la galer\xeda. \xa1S\xe9 el primero en subir una!"})}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:a.map((e,r)=>(0,t.jsx)(g.Zp,{className:"polaroid overflow-hidden bg-white border-0 hover-effect",style:{animationDelay:"".concat(100*r,"ms")},children:(0,t.jsxs)("figure",{children:[(0,t.jsx)("div",{className:"relative h-48 md:h-56",children:(0,t.jsx)(i.default,{src:e.imageUrl||"/placeholder.svg",alt:e.description,fill:!0,className:"object-cover"})}),(0,t.jsx)("figcaption",{children:e.description||"Sin descripci\xf3n"})]})},e.id))})})]})}},1685:(e,r,a)=>{"use strict";a.d(r,{X:()=>s});var t=a(5155);function s(e){let{title:r,subtitle:a,accent:s=!1}=e;return(0,t.jsxs)("div",{className:"mb-8 text-center md:text-left fade-in-section",children:[(0,t.jsx)("h2",{className:"minecraft-style text-3xl md:text-4xl lg:text-5xl mb-3 ".concat(s?"text-accent text-glow":"text-primary"),children:r}),a&&(0,t.jsx)("p",{className:"text-muted-foreground text-lg max-w-3xl mx-auto md:mx-0",children:a})]})}},3999:(e,r,a)=>{"use strict";a.d(r,{cn:()=>i});var t=a(2596),s=a(9688);function i(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.QP)((0,t.$)(r))}},7168:(e,r,a)=>{"use strict";a.d(r,{$:()=>c});var t=a(5155),s=a(2115),i=a(9708),l=a(2085),n=a(3999);let d=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:a,variant:s,size:l,asChild:c=!1,leftIcon:o,children:u,...m}=e,f=c?i.DX:"button";return(0,t.jsxs)(f,{className:(0,n.cn)(d({variant:s,size:l,className:a})),ref:r,...m,children:[o&&o,u]})});c.displayName="Button"},8482:(e,r,a)=>{"use strict";a.d(r,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>l,aR:()=>n,wL:()=>u});var t=a(5155),s=a(2115),i=a(3999);let l=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let n=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...s})});n.displayName="CardHeader";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let c=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",a),...s})});o.displayName="CardContent";let u=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,t.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},8915:(e,r,a)=>{"use strict";a.d(r,{I:()=>o,db:()=>c,j:()=>d});var t=a(3915),s=a(3004),i=a(5317),l=a(858);let n=0===(0,t.Dk)().length?(0,t.Wp)({apiKey:"AIzaSyDvvFlFM8dmjG6O5nKPYcvozK7Zcb1_hp4",authDomain:"minecraft-bb9e9.firebaseapp.com",projectId:"minecraft-bb9e9",storageBucket:"minecraft-bb9e9.firebasestorage.app",messagingSenderId:"698454827695",appId:"1:698454827695:web:b30f31ee8a3c6779816a5a"}):(0,t.Dk)()[0],d=(0,s.xI)(n),c=(0,i.aU)(n),o=(0,l.c7)(n)},9330:(e,r,a)=>{Promise.resolve().then(a.bind(a,1521))}},e=>{var r=r=>e(e.s=r);e.O(0,[992,416,352,766,221,441,684,358],()=>r(9330)),_N_E=e.O()}]);